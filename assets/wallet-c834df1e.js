import{u as l,a as u,b as y,r as p,D as m,E as N}from"./index-c80398e4.js";const r=l(),i=u(),g=y("wallet",()=>{const a=p([]);async function n(e){try{a.value=await m(i.user.email||e)}catch(o){r.addNotification({type:"error",msg:o})}}function c(e){a.value.push(e),r.addNotification({type:"info",msg:"New wallet added"})}async function d(e,o,s){try{await N(i.user.email,e,o,s);let t=a.value.find(f=>f.id===s.id);t.balance=t.balance-o-t.fee,r.addNotification({type:"success",msg:`Token transferred to ${e}`})}catch(t){r.addNotification({type:"error",msg:t})}}return{tokens:a,addWallet:c,fetchWallets:n,transfer:d}});export{g as u};
